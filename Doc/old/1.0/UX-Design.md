# AI 伴侣「小叶」UX 设计规范

> 设计风格：渐变毛玻璃风格 | 蓝色系 | 氛围感优先

---

## 1. 设计系统

### 1.1 调色板

#### 主色调（蓝色渐变系）
| 名称 | 色值 | 用途 |
|------|------|------|
| Primary Light | `#7DD3FC` | 高亮、强调 |
| Primary | `#38BDF8` | 主按钮、链接 |
| Primary Dark | `#0284C7` | 按下状态 |
| Gradient Start | `#60A5FA` | 渐变起点 |
| Gradient End | `#A78BFA` | 渐变终点（蓝紫过渡） |

#### 背景色
| 名称 | 色值 | 用途 |
|------|------|------|
| Background Dark | `#0F172A` | 深色主背景 |
| Background Mid | `#1E293B` | 卡片背景 |
| Glass White | `rgba(255,255,255,0.08)` | 毛玻璃面板 |
| Glass Border | `rgba(255,255,255,0.12)` | 毛玻璃边框 |

#### 情绪氛围色（背景光效）
| 情绪 | 光效色 | 描述 |
|------|--------|------|
| Neutral | `#38BDF8` | 蓝色柔光 |
| Happy / Excited | `#FCD34D` | 暖黄光晕 |
| Tender / Lovey-dovey | `#F472B6` | 粉色浪漫 |
| Sad / Depressed | `#6366F1` | 深蓝忧郁 |
| Curious / Thinking | `#A78BFA` | 紫色神秘 |

### 1.2 字体规范

| 类型 | 字体 | 字号 | 行高 |
|------|------|------|------|
| 标题 | Plus Jakarta Sans | 20px | 28px |
| 副标题 | Plus Jakarta Sans | 16px | 24px |
| 正文 | Plus Jakarta Sans | 14px | 20px |
| 辅助文字 | Plus Jakarta Sans | 12px | 16px |
| 状态标签 | Plus Jakarta Sans | 10px | 14px |

### 1.3 毛玻璃效果

```css
.glass-panel {
  background: rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}
```

---

## 2. 亲密度等级系统

### 三级亲密度设计

| 等级 | 名称 | 图标 | 描述 | 解锁互动 |
|------|------|------|------|----------|
| Lv.1 | 初识 | 🌱 | 刚认识的新朋友 | 基础闲聊 |
| Lv.2 | 熟悉 | 🌿 | 可以分享心事的朋友 | 解锁语音游戏、情感倾诉 |
| Lv.3 | 知己 | 🌳 | 心照不宣的亲密伙伴 | 解锁专属称呼、深度陪伴 |

### 视觉表现
- **图标动效**：等级越高，图标有轻微发光效果
- **渐变进度条**：显示当前等级进度
- **升级提示**：达成新等级时弹出庆祝动画

---

## 3. 页面设计

### 3.1 创建通话页面

```
┌─────────────────────────────────┐
│                      ⚙️  设置   │  ← 顶部导航栏（仅设置按钮）
├─────────────────────────────────┤
│                                 │
│                                 │
│     ╭─────────────────────╮     │
│     │                     │     │
│     │   虚拟人设背景图     │     │  ← 全屏背景（小叶形象）
│     │   （静态图片）       │     │
│     │                     │     │
│     │                     │     │
│     │                     │     │
│     ╰─────────────────────╯     │
│                                 │
│                                 │
│            ╭───────╮            │
│            │  📞   │            │  ← 通话按钮（渐变发光）
│            ╰───────╯            │
│          点击开始通话            │
│                                 │
└─────────────────────────────────┘
```

#### 关键元素
- **通话按钮**：蓝紫渐变，带脉冲光晕动画，页面底部居中
- **设置按钮**：右上角毛玻璃圆形按钮
- **背景渐变遮罩**：从顶部深色渐变到透明，再到底部深色

### 3.2 通话页面

```
┌─────────────────────────────────┐
│ 🌿 Lv.2 熟悉  💭 好奇   ••• 更多 │  ← 头部（亲密度 + 情绪 + 菜单）
├─────────────────────────────────┤
│                                 │
│         ╭─────────────╮         │
│         │    小叶     │         │  ← AI 名称
│         │ 👂 倾听中...│         │  ← Agent 状态
│         ╰─────────────╯         │
│                                 │
│   ╭─────────────────────────╮   │
│   │ 🟢 虚拟人设背景图           │   │  ← 全屏背景
│   ╰─────────────────────────╯   │
│                                 │
│ ┌─────────────────────────────┐ │
│ │ 💬 字幕区（毛玻璃滚动列表）│ │
│ │ ┌─────────────────┐         │ │
│ │ │ 🤖 小叶：你好呀～ │         │ │  ← AI 消息（左对齐）
│ │ └─────────────────┘         │ │
│ │         ┌─────────────────┐ │ │
│ │         │ 你：今天好累啊 🧑 │ │  ← 用户消息（右对齐）
│ │         └─────────────────┘ │ │
│ └─────────────────────────────┘ │
│                                 │
│      ▁ ▃ ▆ ▂ ▅ ▃ ▇ ▂ ▄ ▁         │  ← 纵波音浪（高度不同）
│                                 │
│ ┌───────────────────────────┐   │
│ │   �️ 麦克风    📴 挂断    │   │  ← 控制区
│ └───────────────────────────┘   │
└─────────────────────────────────┘
```

#### 关键变更
- **情绪标签**：移至左上角头部，亲密度后面
- **布局**：全屏宽度，最大 390px
- **音浪**：纵波效果，每根高度不同
- **字幕区**：支持手动滚动，智能自动滚动（手动滚动后禁用自动滚动，滚动到底部后恢复）

---

## 4. 组件规范

### 4.1 按钮

#### 主按钮（通话按钮）
```css
.btn-primary {
  background: linear-gradient(135deg, #60A5FA, #A78BFA);
  border-radius: 9999px;
  box-shadow: 
    0 0 20px rgba(96, 165, 250, 0.4),
    0 0 40px rgba(167, 139, 250, 0.2);
  transition: all 0.3s ease;
}
.btn-primary:hover {
  transform: scale(1.05);
  box-shadow: 
    0 0 30px rgba(96, 165, 250, 0.6),
    0 0 60px rgba(167, 139, 250, 0.3);
}
```

#### 挂断按钮
```css
.btn-hangup {
  background: linear-gradient(135deg, #EF4444, #DC2626);
  border-radius: 9999px;
  box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
}
```

#### 麦克风按钮
- **开启状态**：毛玻璃背景 + 音浪图标动画
- **关闭状态**：毛玻璃背景 + 麦克风斜杠图标

### 4.2 消息气泡

#### AI 消息
```css
.bubble-ai {
  background: rgba(30, 41, 59, 0.85);
  backdrop-filter: blur(8px);
  border-radius: 16px 16px 16px 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);
}
```

#### 用户消息
```css
.bubble-user {
  background: linear-gradient(135deg, #3B82F6, #60A5FA);
  border-radius: 16px 16px 4px 16px;
}
```

### 4.3 音浪动画

#### 基本规格
- **位置**：控制区上方，**屏幕水平居中**
- **条数**：10 根
- **颜色**：主色渐变 `#60A5FA` → `#A78BFA`

#### 纵向对称波形效果
- **中心线**：默认所有音浪条在 Y 轴 0 点（水平中线）
- **静默状态**：显示为一条细线（高度 ≈ 2px）
- **有声音时**：从中心线向上（+Y）和向下（-Y）对称扩展
  - 最小振幅：±2px（接近静音）
  - 最大振幅：±24px（最大音量）

```
静默状态：
───────────────────────  ← 中心线

有声音时：
     ▂   ▆       ▃
     █   █   ▄   █   ▂
─────█───█───█───█───█───  ← 中心线
     █   █   █   █   █
     ▂   ▆   ▄   ▃   ▂
```

#### CSS 实现思路
```css
.wave-bar {
  width: 4px;
  background: linear-gradient(180deg, #60A5FA, #A78BFA);
  border-radius: 2px;
  /* 使用 scaleY 从中心扩展 */
  transform-origin: center;
  transform: scaleY(var(--amplitude, 0.1));
  transition: transform 0.1s ease-out;
}

---

## 5. 交互规范

### 5.1 状态切换动画

| 状态 | 图标 | 动画 |
|------|------|------|
| 空闲中 | 🔵 | 缓慢呼吸闪烁 |
| 倾听中 | 👂 | 耳朵图标微微倾斜 |
| 思考中 | 🧠 | 旋转的思考圈 |
| 说话中 | 💬 | 气泡弹跳动效 |

### 5.2 页面转场
- **创建通话 → 通话页面**：淡入 + 轻微缩放（0.3s）
- **通话页面 → 创建通话**：淡出（0.2s）

### 5.3 错误提示
- **样式**：顶部滑入的毛玻璃 Toast
- **颜色**：红色渐变边框 + 图标
- **持续**：3 秒后自动消失，可手动关闭

---

## 6. 响应式适配

| 屏幕宽度 | 适配策略 |
|----------|----------|
| < 375px | 字号缩小 10%，间距压缩 |
| 375px - 428px | 标准设计稿 |
| > 428px | 最大宽度 428px，居中显示 |

---

## 7. 资源清单

| 资源 | 格式 | 说明 |
|------|------|------|
| 小叶背景图 | PNG/WebP | 已生成：`Doc/assets/ai_companion_avatar.png` |
| 情绪图标 | SVG | Material Symbols Outlined |
| 音效（可选） | MP3 | 通话接通音、挂断音 |
